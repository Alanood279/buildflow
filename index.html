<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Security Headers Meta -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- SEO Meta Tags -->
    <title>BuildFlow - منصة بناء المواقع بالذكاء الاصطناعي | مجاناً</title>
    <meta name="description" content="BuildFlow - أول منصة عربية لبناء المواقع بالذكاء الاصطناعي. صمم متجرك أو موقعك في دقائق بدون خبرة برمجية. مجاناً للمبتدئين.">
    <meta name="keywords" content="بناء مواقع, ذكاء اصطناعي, متجر إلكتروني, تصميم مواقع, برمجة بدون كود, منصة عربية, موقع مجاني">
    <meta name="author" content="BuildFlow">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#4f46e5">
    
    <!-- إضافات SEO محسنة -->
    <meta name="google-site-verification" content="your-verification-code" />
    <meta name="msvalidate.01" content="your-bing-verification" />
    <link rel="alternate" hreflang="ar" href="https://buildflow.com/ar" />
    <link rel="alternate" hreflang="en" href="https://buildflow.com/en" />
    <meta name="geo.region" content="SA" />
    <meta name="geo.placename" content="Riyadh" />
    <meta name="geo.position" content="24.7136;46.6753" />
    <meta name="ICBM" content="24.7136, 46.6753" />
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://buildflow.com">
    <meta property="og:title" content="BuildFlow - ابنِ موقعك كأنك تستخدم PowerPoint">
    <meta property="og:description" content="حوّل فكرتك إلى موقع احترافي أو متجر إلكتروني في دقائق. مدعوم بالذكاء الاصطناعي.">
    <meta property="og:image" content="https://buildflow.com/assets/og-image.jpg">
    <meta property="og:locale" content="ar_SA">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://buildflow.com">
    <meta property="twitter:title" content="BuildFlow - بناء المواقع بالذكاء الاصطناعي">
    <meta property="twitter:description" content="صمم موقعك بسهولة PowerPoint">
    <meta property="twitter:image" content="https://buildflow.com/assets/twitter-image.jpg">
    
    <!-- Canonical -->
    <link rel="canonical" href="https://buildflow.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%234f46e5' rx='20' width='100' height='100'/><text x='50%' y='50%' dominant-baseline='central' text-anchor='middle' fill='white' font-size='60' font-family='Arial'>B</text></svg>">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Tajawal', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            500: '#6366f1',
                            600: '#4f46e5',
                            700: '#4338ca',
                            900: '#312e81',
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    
    <style>
        * { font-family: 'Tajawal', sans-serif; }
        
        body {
            background: #fafafa;
            color: #111;
            overflow-x: hidden;
        }
        
        body.dark {
            background: #0a0a0a;
            color: #fff;
        }
        
        html { scroll-behavior: smooth; }
        
        ::selection {
            background: #6366f1;
            color: white;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .dark .glass {
            background: rgba(20, 20, 20, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 50%, #db2777 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .canvas-container {
            background: #f3f4f6;
            background-image: 
                linear-gradient(rgba(0,0,0,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.03) 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        .dark .canvas-container {
            background: #1a1a1a;
            background-image: 
                linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
        }
        
        .selected {
            outline: 2px solid #4f46e5;
            outline-offset: 2px;
        }
        
        .dragging {
            opacity: 0.8;
            cursor: grabbing !important;
        }
        
        .resize-handle {
            width: 8px;
            height: 8px;
            background: #4f46e5;
            position: absolute;
            border-radius: 50%;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .animate-float {
            animation: float 3s ease-in-out infinite;
        }
        
        .pricing-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px -12px rgba(79, 70, 229, 0.25);
        }
        
        .btn-shine {
            position: relative;
            overflow: hidden;
        }
        
        .btn-shine::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right,
                rgba(255,255,255,0) 0%,
                rgba(255,255,255,0.3) 50%,
                rgba(255,255,255,0) 100%
            );
            transform: rotate(30deg);
            transition: all 0.6s;
            opacity: 0;
        }
        
        .btn-shine:hover::after {
            animation: shine 0.6s ease-in-out;
            opacity: 1;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) rotate(30deg); }
            100% { transform: translateX(100%) rotate(30deg); }
        }
        
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: #334155;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #111;
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 14px;
            opacity: 0;
            transition: all 0.3s;
            z-index: 9999;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        
        .spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* تحسينات جديدة */
        .loading-progress {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #4f46e5, #7c3aed, #db2777);
            transform: translateX(-100%);
            animation: loading 1.5s infinite;
            z-index: 9999;
            display: none;
        }
        
        .loading-progress.active {
            display: block;
        }
        
        @keyframes loading {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(0); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4); }
            50% { box-shadow: 0 0 20px 10px rgba(79, 70, 229, 0.2); }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }
        
        @keyframes slide-in {
            from { transform: translateX(50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-in {
            animation: slide-in 0.5s ease-out;
        }
        
        .step-card {
            transition: all 0.3s ease;
        }
        
        .step-card:hover {
            transform: translateY(-10px);
        }
        
        .step-number {
            transition: all 0.3s ease;
        }
        
        .step-card:hover .step-number {
            transform: scale(1.1);
            box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.4);
        }
        
        /* Breadcrumbs */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #6b7280;
        }
        
        .breadcrumb a:hover {
            color: #4f46e5;
        }
        
        /* Lazy loading placeholder */
        .lazy-image {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading-shimmer 1.5s infinite;
        }
        
        @keyframes loading-shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="antialiased transition-colors duration-300">

    <!-- Loading Progress Bar -->
    <div id="loading-bar" class="loading-progress"></div>

    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:right-4 bg-brand-600 text-white px-4 py-2 rounded-lg z-50">
        الانتقال للمحتوى الرئيسي
    </a>

    <!-- Breadcrumbs -->
    <nav class="fixed top-16 w-full z-40 glass border-b border-gray-200 dark:border-gray-800 hidden" id="breadcrumbs">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2">
            <div class="breadcrumb">
                <a href="/" class="hover:text-brand-600">الرئيسية</a>
                <span>/</span>
                <span id="current-page" class="text-gray-900 dark:text-white">الصفحة الحالية</span>
            </div>
        </div>
    </nav>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 glass transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="flex items-center gap-2 group">
                    <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-brand-600 to-purple-600 flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform pulse-glow">
                        B
                    </div>
                    <span class="font-bold text-xl tracking-tight">BuildFlow</span>
                </a>
                
                <div class="hidden md:flex items-center gap-8">
                    <a href="#how-it-works" class="text-sm font-medium hover:text-brand-600 transition-colors">كيف يعمل</a>
                    <a href="#features" class="text-sm font-medium hover:text-brand-600 transition-colors">المميزات</a>
                    <a href="#pricing" class="text-sm font-medium hover:text-brand-600 transition-colors">الأسعار</a>
                    <a href="#templates" class="text-sm font-medium hover:text-brand-600 transition-colors">القوالب</a>
                    <a href="#support" class="text-sm font-medium hover:text-brand-600 transition-colors">الدعم</a>
                </div>
                
                <div class="flex items-center gap-4">
                    <button onclick="toggleTheme()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" aria-label="تبديل الوضع">
                        <svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        <svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                    </button>
                    
                    <button onclick="handleAuth('login')" class="hidden sm:block text-sm font-medium hover:text-brand-600 transition-colors">تسجيل الدخول</button>
                    <button onclick="handleAuth('signup')" class="bg-brand-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-brand-700 transition-colors btn-shine">
                        ابدأ مجاناً
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main id="main-content">
        <!-- Hero Section -->
        <section class="pt-32 pb-20 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
            <div class="max-w-7xl mx-auto text-center relative z-10">
                <div class="inline-flex items-center gap-2 glass px-4 py-2 rounded-full mb-8 animate-float">
                    <span class="flex h-2 w-2 relative">
                        <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                        <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
                    </span>
                    <span class="text-sm font-medium">جديد: الآن يمكنك بناء متجر إلكتروني كامل!</span>
                </div>
                
                <h1 class="text-4xl sm:text-5xl lg:text-7xl font-black mb-6 leading-tight">
                    ابنِ موقعك كأنك تستخدم
                    <span class="gradient-text block mt-2">PowerPoint</span>
                </h1>
                
                <p class="text-lg sm:text-xl text-gray-600 dark:text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed">
                    صمم أي موقع أو متجر إلكتروني في دقائق. سحب وإفلات بسيط، ذكاء اصطناعي يساعدك، ونشر بنقرة واحدة.
                    <span class="block mt-2 font-semibold text-brand-600">مجاناً للمبتدئين - بدون بطاقة ائتمان</span>
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
                    <button onclick="openEditor()" class="bg-brand-600 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-brand-700 transition-all btn-shine shadow-xl shadow-brand-600/20 flex items-center justify-center gap-2">
                        <span>جرب الآن مجاناً</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </button>
                    <button onclick="scrollToDemo()" class="glass px-8 py-4 rounded-xl text-lg font-semibold hover:bg-gray-100 dark:hover:bg-gray-800 transition-all flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        <span>شاهد كيف يعمل</span>
                    </button>
                </div>
                
                <!-- Social Share Buttons -->
                <div class="flex justify-center gap-3 mb-12">
                    <button onclick="shareOnTwitter()" class="flex items-center gap-2 px-4 py-2 rounded-full bg-[#1DA1F2] text-white hover:opacity-90 transition-opacity text-sm">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg>
                        <span>مشاركة على تويتر</span>
                    </button>
                    <button onclick="shareOnFacebook()" class="flex items-center gap-2 px-4 py-2 rounded-full bg-[#4267B2] text-white hover:opacity-90 transition-opacity text-sm">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg>
                        <span>مشاركة على فيسبوك</span>
                    </button>
                    <button onclick="shareOnLinkedIn()" class="flex items-center gap-2 px-4 py-2 rounded-full bg-[#0077b5] text-white hover:opacity-90 transition-opacity text-sm">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                        <span>مشاركة على لينكدإن</span>
                    </button>
                </div>
                
                <div class="flex flex-wrap justify-center gap-6 text-sm text-gray-500 dark:text-gray-400 mb-16">
                    <div class="flex items-center gap-2">
                        <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <span>لا يحتاج بطاقة ائتمان</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <span>جاهز في 5 دقائق</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                        </svg>
                        <span>استضافة مجانية</span>
                    </div>
                </div>
                
                <!-- Editor Preview -->
                <div class="relative max-w-5xl mx-auto rounded-2xl overflow-hidden shadow-2xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900" id="editor-preview">
                    <div class="bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 flex items-center gap-4">
                        <div class="flex gap-2">
                            <div class="w-3 h-3 rounded-full bg-red-500"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        </div>
                        <div class="flex-1 flex justify-center gap-2">
                            <button class="p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" title="إضافة نص">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                            </button>
                            <button class="p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" title="إضافة صورة">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            </button>
                            <button class="p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" title="إضافة زر">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"></path></svg>
                            </button>
                            <div class="w-px h-6 bg-gray-300 dark:bg-gray-600 mx-2"></div>
                            <button class="p-2 rounded bg-brand-100 dark:bg-brand-900 text-brand-600 dark:text-brand-400" title="مساعد الذكاء الاصطناعي">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            </button>
                        </div>
                        <button class="bg-brand-600 text-white px-4 py-1.5 rounded-lg text-sm font-medium hover:bg-brand-700 transition-colors">
                            نشر
                        </button>
                    </div>
                    
                    <div class="canvas-container h-96 relative overflow-hidden" id="canvas">
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 border-2 border-brand-500 selected cursor-move" id="hero-box">
                            <h3 class="text-xl font-bold mb-2 text-center dark:text-white">متجر العطور الفاخرة</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400 text-center mb-4">أفضل العطور العالمية بأسعار مميزة</p>
                            <button class="w-full bg-brand-600 text-white py-2 rounded-lg text-sm font-medium">تسوق الآن</button>
                            <div class="resize-handle -top-1 -left-1 cursor-nw-resize"></div>
                            <div class="resize-handle -top-1 -right-1 cursor-ne-resize"></div>
                            <div class="resize-handle -bottom-1 -left-1 cursor-sw-resize"></div>
                            <div class="resize-handle -bottom-1 -right-1 cursor-se-resize"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How it Works Section -->
        <section id="how-it-works" class="py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-800">
            <div class="max-w-7xl mx-auto">
                <h2 class="text-3xl sm:text-4xl font-bold text-center mb-4">كيف يعمل BuildFlow؟</h2>
                <p class="text-gray-600 dark:text-gray-400 text-center mb-12 max-w-2xl mx-auto">ثلاث خطوات بسيطة تفصلك عن موقعك الاحترافي</p>
                
                <div class="grid md:grid-cols-3 gap-8 relative">
                    <!-- Connecting Line -->
                    <div class="hidden md:block absolute top-1/4 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-brand-200 via-brand-500 to-brand-200 dark:from-brand-900 dark:via-brand-600 dark:to-brand-900"></div>
                    
                    <div class="step-card text-center relative z-10">
                        <div class="step-number w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-brand-500 to-purple-600 flex items-center justify-center text-3xl font-bold text-white shadow-lg">1</div>
                        <h3 class="text-xl font-bold mb-3">صف فكرتك</h3>
                        <p class="text-gray-600 dark:text-gray-400 leading-relaxed">اكتب وصفاً بسيطاً للموقع الذي تريد بناءه باللغة العربية أو الإنجليزية. لا حاجة لمعرفة تقنية!</p>
                    </div>
                    
                    <div class="step-card text-center relative z-10">
                        <div class="step-number w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-brand-500 to-purple-600 flex items-center justify-center text-3xl font-bold text-white shadow-lg">2</div>
                        <h3 class="text-xl font-bold mb-3">شاهد الذكاء الاصطناعي يعمل</h3>
                        <p class="text-gray-600 dark:text-gray-400 leading-relaxed">يقوم الذكاء الاصطناعي ببناء موقعك تلقائياً مع التصميم والمحتوى والصور المناسبة</p>
                    </div>
                    
                    <div class="step-card text-center relative z-10">
                        <div class="step-number w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-brand-500 to-purple-600 flex items-center justify-center text-3xl font-bold text-white shadow-lg">3</div>
                        <h3 class="text-xl font-bold mb-3">انشر في دقائق</h3>
                        <p class="text-gray-600 dark:text-gray-400 leading-relaxed">انقر نشر واحصل على رابط مباشر لموقعك. شاركه مع العالم فوراً!</p>
                    </div>
                </div>
                
                <div class="mt-16 text-center">
                    <button onclick="openEditor()" class="bg-brand-600 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-brand-700 transition-all btn-shine shadow-xl shadow-brand-600/20">
                        ابدأ رحلتك الآن
                    </button>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-20 px-4 sm:px-6 lg:px-8 bg-white dark:bg-gray-900">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl sm:text-4xl font-bold mb-4">كل ما تحتاجه لبناء موقع احترافي</h2>
                    <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">أدوات قوية وسهلة الاستخدام تجعل بناء المواقع ممتعاً</p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <article class="p-6 rounded-2xl glass hover:shadow-xl transition-all duration-300 group">
                        <div class="w-12 h-12 rounded-xl bg-brand-100 dark:bg-brand-900 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                            <svg class="w-6 h-6 text-brand-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">ذكاء اصطناعي متقدم</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">وصف فكرتك بالعربية والذكاء الاصطناعي يبني الموقع كاملاً مع التصميم والمحتوى</p>
                    </article>
                    
                    <article class="p-6 rounded-2xl glass hover:shadow-xl transition-all duration-300 group">
                        <div class="w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                            <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">تصميم متجاوب تلقائياً</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">موقعك يعمل بشكل مثالي على الجوال، التابلت، وسطح المكتب بدون مجهود إضافي</p>
                    </article>
                    
                    <article class="p-6 rounded-2xl glass hover:shadow-xl transition-all duration-300 group">
                        <div class="w-12 h-12 rounded-xl bg-pink-100 dark:bg-pink-900 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                            <svg class="w-6 h-6 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">متجر إلكتروني متكامل</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">أضف منتجات، سلة مشتريات، دفع إلكتروني، وإدارة طلبات بسهولة</p>
                    </article>
                    
                    <article class="p-6 rounded-2xl glass hover:shadow-xl transition-all duration-300 group">
                        <div class="w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">نشر بنقرة واحدة</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">استضافة مجانية، دومين فرعي مجاني، ونشر فوري لموقعك على الإنترنت</p>
                    </article>
                    
                    <article class="p-6 rounded-2xl glass hover:shadow-xl transition-all duration-300 group">
                        <div class="w-12 h-12 rounded-xl bg-blue-100 dark:bg-blue-900 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">قوالب جاهزة احترافية</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">مئات القوالب المصممة للمطاعم، المتاجر، المقاهي، والمزيد</p>
                    </article>
                    
                    <article class="p-6 rounded-2xl glass hover:shadow-xl transition-all duration-300 group">
                        <div class="w-12 h-12 rounded-xl bg-orange-100 dark:bg-orange-900 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                            <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">ربح من موقعك</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm leading-relaxed">نأخذ نسبة 2% فقط من كل عملية بيع. لا رسوم شهرية مخفية ولا عمولات إضافية</p>
                    </article>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricing" class="py-20 px-4 sm:px-6 lg:px-8">
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-16">
                    <h2 class="text-3xl sm:text-4xl font-bold mb-4">اختر الخطة المناسبة لك</h2>
                    <p class="text-gray-600 dark:text-gray-400 mb-8">ابدأ مجاناً وقم بالترقية عندما ينمو عملك</p>
                    
                    <div class="flex items-center justify-center gap-4">
                        <span class="text-sm font-medium" id="monthly-label">شهري</span>
                        <button onclick="togglePricing()" class="w-14 h-7 rounded-full bg-brand-600 relative transition-colors" id="pricing-toggle" aria-pressed="false">
                            <span class="sr-only">تبديل الفترة</span>
                            <div class="w-5 h-5 bg-white rounded-full absolute top-1 right-1 transition-transform" id="toggle-circle"></div>
                        </button>
                        <span class="text-sm font-medium text-gray-500" id="yearly-label">سنوي <span class="text-green-500 text-xs">وفر 20%</span></span>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                    <!-- Free Plan -->
                    <article class="pricing-card glass rounded-2xl p-8 border border-gray-200 dark:border-gray-800">
                        <div class="mb-6">
                            <h3 class="text-xl font-bold mb-2">مجاني</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">للمبتدئين والتجربة</p>
                        </div>
                        <div class="mb-6">
                            <span class="text-4xl font-black">$0</span>
                            <span class="text-gray-500">/شهرياً</span>
                        </div>
                        <ul class="space-y-3 mb-8 text-sm">
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>موقع واحد</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>دومين فرعي مجاني</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>حتى 10 منتجات</span>
                            </li>
                            <li class="flex items-center gap-2 text-gray-400">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                                <span>بدون دومين مخصص</span>
                            </li>
                        </ul>
                        <button onclick="handleSubscribe('free')" class="w-full py-3 rounded-xl border-2 border-brand-600 text-brand-600 font-bold hover:bg-brand-50 dark:hover:bg-brand-900/20 transition-colors">
                            ابدأ مجاناً
                        </button>
                    </article>
                    
                    <!-- Pro Plan -->
                    <article class="pricing-card glass rounded-2xl p-8 border-2 border-brand-600 relative md:scale-105 shadow-xl shadow-brand-600/10">
                        <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-brand-600 text-white px-4 py-1 rounded-full text-sm font-bold">
                            الأكثر شعبية
                        </div>
                        <div class="mb-6">
                            <h3 class="text-xl font-bold mb-2">محترف</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">لرواد الأعمال</p>
                        </div>
                        <div class="mb-6">
                            <span class="text-4xl font-black" id="pro-price">$19</span>
                            <span class="text-gray-500">/شهرياً</span>
                        </div>
                        <ul class="space-y-3 mb-8 text-sm">
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>5 مواقع</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>دومين مخصص مجاني</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>منتجات غير محدودة</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>دعم فني 24/7</span>
                            </li>
                        </ul>
                        <button onclick="handleSubscribe('pro')" class="w-full py-3 rounded-xl bg-brand-600 text-white font-bold hover:bg-brand-700 transition-colors btn-shine">
                            اشترك الآن
                        </button>
                        <p class="text-xs text-center mt-4 text-gray-500">+ 2% من كل عملية بيع</p>
                    </article>
                    
                    <!-- Business Plan -->
                    <article class="pricing-card glass rounded-2xl p-8 border border-gray-200 dark:border-gray-800">
                        <div class="mb-6">
                            <h3 class="text-xl font-bold mb-2">أعمال</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">للشركات والمتاجر الكبيرة</p>
                        </div>
                        <div class="mb-6">
                            <span class="text-4xl font-black" id="business-price">$49</span>
                            <span class="text-gray-500">/شهرياً</span>
                        </div>
                        <ul class="space-y-3 mb-8 text-sm">
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>مواقع غير محدودة</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>دومينات مخصصة</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>API للربط الخارجي</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                <span>مدير حساب مخصص</span>
                            </li>
                        </ul>
                        <button onclick="handleSubscribe('business')" class="w-full py-3 rounded-xl border-2 border-gray-300 dark:border-gray-700 font-bold hover:border-brand-600 hover:text-brand-600 transition-colors">
                            تواصل مع المبيعات
                        </button>
                        <p class="text-xs text-center mt-4 text-gray-500">+ 1% من كل عملية بيع</p>
                    </article>
                </div>
            </div>
        </section>

        <!-- Revenue Model -->
        <section class="py-16 px-4 sm:px-6 lg:px-8 bg-brand-600 text-white">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="text-3xl font-bold mb-6">نموذج الربح الشفاف</h2>
                <p class="text-lg mb-8 text-brand-100">
                    نؤمن بنجاحك. لذلك نأخذ نسبة بسيطة فقط عندما تبيع، بدون رسوم شهرية إجبارية.
                </p>
                <div class="grid md:grid-cols-3 gap-8 text-center">
                    <div>
                        <div class="text-4xl font-black mb-2">2%</div>
                        <div class="text-sm text-brand-200">من كل عملية بيع في الخطة المجانية</div>
                    </div>
                    <div>
                        <div class="text-4xl font-black mb-2">2%</div>
                        <div class="text-sm text-brand-200">من كل عملية بيع في خطة المحترف</div>
                    </div>
                    <div>
                        <div class="text-4xl font-black mb-2">1%</div>
                        <div class="text-sm text-brand-200">من كل عملية بيع في خطة الأعمال</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 pt-16 pb-8 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8 mb-12">
                <div class="col-span-2 lg:col-span-2">
                    <a href="/" class="flex items-center gap-2 mb-4">
                        <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-brand-600 to-purple-600 flex items-center justify-center text-white font-bold">B</div>
                        <span class="font-bold text-xl">BuildFlow</span>
                    </a>
                    <p class="text-gray-600 dark:text-gray-400 text-sm mb-4 max-w-xs">
                        أول منصة عربية لبناء المواقع والمتاجر الإلكترونية بالذكاء الاصطناعي. سهل كـ PowerPoint، قوي كـ Shopify.
                    </p>
                    <div class="flex gap-4">
                        <a href="#" class="text-gray-400 hover:text-brand-600 transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-brand-600 transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-brand-600 transition-colors">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg>
                        </a>
                    </div>
                </div>
                
                <nav>
                    <h4 class="font-bold mb-4">المنتج</h4>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                        <li><a href="#features" class="hover:text-brand-600 transition-colors">المميزات</a></li>
                        <li><a href="#pricing" class="hover:text-brand-600 transition-colors">الأسعار</a></li>
                        <li><a href="#templates" class="hover:text-brand-600 transition-colors">القوالب</a></li>
                        <li><a href="#integrations" class="hover:text-brand-600 transition-colors">الربط مع التطبيقات</a></li>
                    </ul>
                </nav>
                
                <nav>
                    <h4 class="font-bold mb-4">الشركة</h4>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                        <li><a href="#about" class="hover:text-brand-600 transition-colors">من نحن</a></li>
                        <li><a href="#blog" class="hover:text-brand-600 transition-colors">المدونة</a></li>
                        <li><a href="#careers" class="hover:text-brand-600 transition-colors">الوظائف</a></li>
                        <li><a href="#contact" class="hover:text-brand-600 transition-colors">اتصل بنا</a></li>
                    </ul>
                </nav>
                
                <nav>
                    <h4 class="font-bold mb-4">قانوني</h4>
                    <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400">
                        <li><a href="#privacy" class="hover:text-brand-600 transition-colors">سياسة الخصوصية</a></li>
                        <li><a href="#terms" class="hover:text-brand-600 transition-colors">شروط الاستخدام</a></li>
                        <li><a href="#security" class="hover:text-brand-600 transition-colors">الأمان</a></li>
                    </ul>
                </nav>
            </div>
            
            <div class="border-t border-gray-200 dark:border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-sm text-gray-500">© 2024 BuildFlow. جميع الحقوق محفوظة.</p>
                <div class="flex items-center gap-4 text-sm text-gray-500">
                    <span>مبني بـ ❤️ في الرياض</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Live Chat Widget -->
    <div id="chat-widget" class="fixed bottom-4 left-4 z-50">
        <button onclick="toggleChat()" class="bg-brand-600 text-white p-4 rounded-full shadow-lg hover:bg-brand-700 transition-all hover:scale-110 pulse-glow">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
            </svg>
        </button>
        
        <div id="chat-box" class="hidden absolute bottom-20 left-0 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="p-4 border-b border-gray-200 dark:border-gray-700 bg-brand-600 text-white flex justify-between items-center">
                <h3 class="font-bold">الدعم الفني</h3>
                <button onclick="toggleChat()" class="text-white hover:text-gray-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="h-80 p-4 overflow-y-auto bg-gray-50 dark:bg-gray-900" id="chat-messages">
                <div class="mb-4 flex gap-2">
                    <div class="w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center text-white text-xs">B</div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm max-w-[80%] text-sm">
                        مرحباً! 👋 أنا بوت BuildFlow. كيف يمكنني مساعدتك اليوم؟
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800">
                <form onsubmit="sendChatMessage(event)" class="flex gap-2">
                    <input type="text" id="chat-input" placeholder="اكتب رسالتك..." class="flex-1 px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500">
                    <button type="submit" class="bg-brand-600 text-white px-4 py-2 rounded-lg hover:bg-brand-700 text-sm font-medium">إرسال</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <!-- Editor Modal -->
    <div id="editor-modal" class="fixed inset-0 z-[100] hidden bg-gray-900">
        <div class="h-full flex flex-col">
            <!-- Editor Header -->
            <div class="bg-gray-800 border-b border-gray-700 p-4 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <button onclick="closeEditor()" class="text-gray-400 hover:text-white">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                    <span class="font-bold text-white">محرر BuildFlow</span>
                </div>
                <div class="flex gap-2">
                    <button onclick="handleSave()" class="px-4 py-2 rounded-lg bg-gray-700 text-white text-sm hover:bg-gray-600 transition-colors">
                        حفظ
                    </button>
                    <button onclick="handlePublish()" class="px-4 py-2 rounded-lg bg-brand-600 text-white text-sm hover:bg-brand-700 transition-colors">
                        نشر الموقع
                    </button>
                </div>
            </div>
            
            <!-- Editor Body -->
            <div class="flex-1 flex overflow-hidden">
                <!-- Sidebar -->
                <aside class="w-64 bg-gray-800 border-l border-gray-700 p-4 overflow-y-auto">
                    <h3 class="text-white font-bold mb-4 text-sm">العناصر</h3>
                    <div class="space-y-2">
                        <button onclick="addElement('text')" class="w-full text-right px-4 py-3 rounded-lg bg-gray-700 text-white text-sm hover:bg-gray-600 transition-colors flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                            نص
                        </button>
                        <button onclick="addElement('button')" class="w-full text-right px-4 py-3 rounded-lg bg-gray-700 text-white text-sm hover:bg-gray-600 transition-colors flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"></path></svg>
                            زر
                        </button>
                        <button onclick="addElement('image')" class="w-full text-right px-4 py-3 rounded-lg bg-gray-700 text-white text-sm hover:bg-gray-600 transition-colors flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            صورة
                        </button>
                    </div>
                    
                    <h3 class="text-white font-bold mb-4 mt-8 text-sm">الذكاء الاصطناعي</h3>
                    <div class="bg-gray-700 rounded-lg p-3">
                        <label for="ai-prompt" class="text-xs text-gray-300 mb-2 block">صِف ما تريد إضافته:</label>
                        <textarea id="ai-prompt" class="w-full bg-gray-800 border border-gray-600 rounded p-2 text-sm text-white mb-2 resize-none" rows="3" placeholder="مثال: أضف قسم منتجات بعنوان 'عطور فاخرة'..."></textarea>
                        <button onclick="generateWithAI()" class="w-full py-2 rounded bg-brand-600 text-white text-sm hover:bg-brand-700 transition-colors flex items-center justify-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                            إنشاء
                        </button>
                    </div>
                </aside>
                
                <!-- Canvas -->
                <main class="flex-1 canvas-container relative overflow-auto" id="editor-canvas">
                    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 min-h-[600px] bg-white dark:bg-gray-800 shadow-2xl rounded-lg p-8" id="canvas-page">
                        <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg h-full flex items-center justify-center text-gray-400 min-h-[500px]" id="empty-state">
                            <div class="text-center p-8">
                                <svg class="w-12 h-12 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                <p class="mb-2">ابدأ بإضافة عناصر من الشريط الجانبي</p>
                                <p class="text-sm opacity-75">أو اكتب وصفاً للذكاء الاصطناعي</p>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <script>
        // Feature Detection
        (function() {
            window.hasLocalStorage = (function() {
                try {
                    const test = '__storage_test__';
                    localStorage.setItem(test, test);
                    localStorage.removeItem(test);
                    return true;
                } catch(e) {
                    return false;
                }
            })();
        })();

        // Loading Bar
        const LoadingBar = {
            element: null,
            
            init() {
                this.element = document.getElementById('loading-bar');
            },
            
            show() {
                if (this.element) this.element.classList.add('active');
            },
            
            hide() {
                if (this.element) this.element.classList.remove('active');
            }
        };

        // Theme Management
        const ThemeManager = {
            init() {
                if (!window.hasLocalStorage) return;
                
                const savedTheme = localStorage.getItem('theme');
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                
                if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                    document.documentElement.classList.add('dark');
                }
            },
            
            toggle() {
                document.documentElement.classList.toggle('dark');
                if (window.hasLocalStorage) {
                    localStorage.setItem('theme', 
                        document.documentElement.classList.contains('dark') ? 'dark' : 'light'
                    );
                }
            }
        };

        // Toast System
        const Toast = {
            element: null,
            timeout: null,
            
            init() {
                this.element = document.getElementById('toast');
            },
            
            show(message, duration = 3000) {
                if (!this.element) return;
                
                if (this.timeout) clearTimeout(this.timeout);
                
                this.element.textContent = message;
                this.element.classList.add('show');
                
                this.timeout = setTimeout(() => {
                    this.element.classList.remove('show');
                }, duration);
            }
        };

        // Analytics System
        const Analytics = {
            trackEvent(category, action, label) {
                if (typeof gtag !== 'undefined') {
                    gtag('event', action, {
                        'event_category': category,
                        'event_label': label
                    });
                }
                console.log(`📊 Tracked: ${category} - ${action} - ${label}`);
            },
            
            trackPageView(page) {
                if (typeof gtag !== 'undefined') {
                    gtag('config', 'GA_MEASUREMENT_ID', {
                        'page_title': page,
                        'page_location': window.location.href
                    });
                }
                console.log(`👀 Page view: ${page}`);
            }
        };

        // Notifications System
        const Notifications = {
            async requestPermission() {
                if (!('Notification' in window)) return;
                
                if (Notification.permission !== 'granted') {
                    const permission = await Notification.requestPermission();
                    if (permission === 'granted') {
                        this.show('شكراً لك! سنخبرك بكل جديد');
                        Toast.show('تم تفعيل الإشعارات بنجاح! 🔔');
                    }
                }
            },
            
            show(title, options = {}) {
                if (Notification.permission === 'granted') {
                    new Notification(title, {
                        icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%234f46e5" rx="20" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="central" text-anchor="middle" fill="white" font-size="60" font-family="Arial">B</text></svg>',
                        badge: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%234f46e5" rx="20" width="100" height="100"/><text x="50%" y="50%" dominant-baseline="central" text-anchor="middle" fill="white" font-size="60" font-family="Arial">B</text></svg>',
                        ...options
                    });
                }
            }
        };

        // Pricing Manager
        const PricingManager = {
            isYearly: false,
            
            toggle() {
                this.isYearly = !this.isYearly;
                
                const toggle = document.getElementById('pricing-toggle');
                const circle = document.getElementById('toggle-circle');
                const proPrice = document.getElementById('pro-price');
                const businessPrice = document.getElementById('business-price');
                
                if (!toggle || !circle || !proPrice || !businessPrice) return;
                
                if (this.isYearly) {
                    toggle.style.backgroundColor = '#10b981';
                    circle.style.transform = 'translateX(-28px)';
                    proPrice.textContent = '$15';
                    businessPrice.textContent = '$39';
                    Analytics.trackEvent('Pricing', 'Toggle', 'Yearly');
                } else {
                    toggle.style.backgroundColor = '#4f46e5';
                    circle.style.transform = 'translateX(0)';
                    proPrice.textContent = '$19';
                    businessPrice.textContent = '$49';
                    Analytics.trackEvent('Pricing', 'Toggle', 'Monthly');
                }
            }
        };

        // Chat Widget
        const ChatWidget = {
            isOpen: false,
            
            toggle() {
                const chatBox = document.getElementById('chat-box');
                this.isOpen = !this.isOpen;
                
                if (this.isOpen) {
                    chatBox.classList.remove('hidden');
                    Analytics.trackEvent('Chat', 'Open', 'Support');
                } else {
                    chatBox.classList.add('hidden');
                }
            },
            
            sendMessage(event) {
                event.preventDefault();
                const input = document.getElementById('chat-input');
                const messages = document.getElementById('chat-messages');
                
                if (!input.value.trim()) return;
                
                // Add user message
                const userMsg = document.createElement('div');
                userMsg.className = 'mb-4 flex gap-2 justify-end';
                userMsg.innerHTML = `
                    <div class="bg-brand-600 text-white rounded-lg p-3 shadow-sm max-w-[80%] text-sm">
                        ${input.value}
                    </div>
                `;
                messages.appendChild(userMsg);
                
                const userText = input.value;
                input.value = '';
                messages.scrollTop = messages.scrollHeight;
                
                // Simulate bot response
                setTimeout(() => {
                    const botMsg = document.createElement('div');
                    botMsg.className = 'mb-4 flex gap-2';
                    botMsg.innerHTML = `
                        <div class="w-8 h-8 rounded-full bg-brand-600 flex items-center justify-center text-white text-xs">B</div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm max-w-[80%] text-sm">
                            شكراً لتواصلك! 🙏 فريق الدعم سيرد عليك قريباً. هل تحتاج مساعدة في شيء معين؟
                        </div>
                    `;
                    messages.appendChild(botMsg);
                    messages.scrollTop = messages.scrollHeight;
                }, 1000);
                
                Analytics.trackEvent('Chat', 'Send Message', userText.substring(0, 50));
            }
        };

        // Editor Manager
        const EditorManager = {
            modal: null,
            canvas: null,
            emptyState: null,
            
            init() {
                this.modal = document.getElementById('editor-modal');
                this.canvas = document.getElementById('canvas-page');
                this.emptyState = document.getElementById('empty-state');
            },
            
            open() {
                if (!this.modal) return;
                LoadingBar.show();
                setTimeout(() => {
                    this.modal.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                    LoadingBar.hide();
                    Toast.show('مرحباً بك في المحرر! 🎨');
                    Analytics.trackEvent('Editor', 'Open', 'Builder');
                }, 500);
            },
            
            close() {
                if (!this.modal) return;
                this.modal.classList.add('hidden');
                document.body.style.overflow = '';
                Analytics.trackEvent('Editor', 'Close', 'Builder');
            },
            
            addElement(type) {
                if (!this.canvas || !this.emptyState) return;
                
                if (this.emptyState && this.emptyState.parentNode) {
                    this.emptyState.remove();
                    this.emptyState = null;
                }
                
                let element;
                const id = 'el-' + Date.now();
                
                switch(type) {
                    case 'text':
                        element = this.createTextElement(id);
                        break;
                    case 'button':
                        element = this.createButtonElement(id);
                        break;
                    case 'image':
                        element = this.createImageElement(id);
                        break;
                }
                
                if (element) {
                    this.canvas.appendChild(element);
                    this.makeDraggable(element);
                    Toast.show('تم إضافة العنصر! يمكنك سحبه للتحريك');
                    Analytics.trackEvent('Editor', 'Add Element', type);
                }
            },
            
            createTextElement(id) {
                const div = document.createElement('div');
                div.id = id;
                div.className = 'p-4 mb-4 cursor-move hover:ring-2 hover:ring-brand-500 rounded group relative slide-in';
                div.innerHTML = `
                    <div class="absolute -top-2 -right-2 opacity-0 group-hover:opacity-100">
                        <button onclick="EditorManager.deleteElement('${id}')" class="w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600">×</button>
                    </div>
                    <h2 class="text-2xl font-bold dark:text-white" contenteditable="true">عنوان قابل للتعديل</h2>
                    <p class="text-gray-600 dark:text-gray-400 mt-2" contenteditable="true">انقر هنا لتحرير النص...</p>
                `;
                return div;
            },
            
            createButtonElement(id) {
                const div = document.createElement('div');
                div.id = id;
                div.className = 'p-4 mb-4 cursor-move text-center group relative slide-in';
                div.innerHTML = `
                    <div class="absolute -top-2 -right-2 opacity-0 group-hover:opacity-100">
                        <button onclick="EditorManager.deleteElement('${id}')" class="w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600">×</button>
                    </div>
                    <button class="bg-brand-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-brand-700 transition-colors shadow-lg" contenteditable="true">زر تفاعلي</button>
                `;
                return div;
            },
            
            createImageElement(id) {
                const div = document.createElement('div');
                div.id = id;
                div.className = 'p-4 mb-4 cursor-move group relative slide-in';
                div.innerHTML = `
                    <div class="absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 z-10">
                        <button onclick="EditorManager.deleteElement('${id}')" class="w-6 h-6 bg-red-500 text-white rounded-full text-xs hover:bg-red-600">×</button>
                    </div>
                    <div class="bg-gray-100 dark:bg-gray-700 rounded-lg h-48 flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-brand-500">
                        <input type="file" accept="image/*" class="absolute inset-0 opacity-0 cursor-pointer" onchange="EditorManager.handleImageUpload(this, '${id}')">
                        <div class="text-center text-gray-400">
                            <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            <span class="text-sm">اضغط لرفع صورة</span>
                        </div>
                    </div>
                `;
                return div;
            },
            
            handleImageUpload(input, id) {
                const file = input.files[0];
                if (!file) return;
                
                if (!file.type.startsWith('image/')) {
                    Toast.show('الرجاء اختيار ملف صورة فقط');
                    return;
                }
                
                if (file.size > 5 * 1024 * 1024) {
                    Toast.show('حجم الصورة كبير جداً. الحد الأقصى 5 ميجابايت');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    const container = input.parentElement;
                    container.innerHTML = `<img src="${e.target.result}" alt="صورة مرفوعة" class="w-full h-full object-cover rounded-lg" loading="lazy">`;
                    Toast.show('تم رفع الصورة بنجاح! 📸');
                    Analytics.trackEvent('Editor', 'Upload Image', 'Success');
                };
                reader.readAsDataURL(file);
            },
            
            deleteElement(id) {
                const element = document.getElementById(id);
                if (element) {
                    element.remove();
                    Toast.show('تم حذف العنصر');
                    Analytics.trackEvent('Editor', 'Delete Element', id);
                }
            },
            
            makeDraggable(element) {
                let isDragging = false;
                let startX, startY, initialLeft, initialTop;
                
                element.addEventListener('mousedown', (e) => {
                    if (e.target.tagName === 'BUTTON' || e.target.isContentEditable) return;
                    
                    isDragging = true;
                    startX = e.clientX;
                    startY = e.clientY;
                    
                    const rect = element.getBoundingClientRect();
                    const parentRect = element.parentElement.getBoundingClientRect();
                    
                    initialLeft = rect.left - parentRect.left;
                    initialTop = rect.top - parentRect.top;
                    
                    element.style.position = 'absolute';
                    element.style.left = initialLeft + 'px';
                    element.style.top = initialTop + 'px';
                    element.style.width = rect.width + 'px';
                    element.classList.add('dragging');
                });
                
                document.addEventListener('mousemove', (e) => {
                    if (!isDragging) return;
                    
                    e.preventDefault();
                    const dx = e.clientX - startX;
                    const dy = e.clientY - startY;
                    
                    element.style.left = (initialLeft + dx) + 'px';
                    element.style.top = (initialTop + dy) + 'px';
                });
                
                document.addEventListener('mouseup', () => {
                    if (isDragging) {
                        isDragging = false;
                        element.classList.remove('dragging');
                    }
                });
            },
            
            generateWithAI() {
                const promptInput = document.getElementById('ai-prompt');
                if (!promptInput) return;
                
                const prompt = promptInput.value.trim();
                
                if (!prompt) {
                    Toast.show('الرجاء كتابة وصف أولاً');
                    promptInput.focus();
                    return;
                }
                
                LoadingBar.show();
                promptInput.disabled = true;
                Toast.show('الذكاء الاصطناعي يعمل... 🤖');
                Analytics.trackEvent('AI', 'Generate', prompt.substring(0, 50));
                
                setTimeout(() => {
                    if (!this.canvas) return;
                    
                    if (this.emptyState && this.emptyState.parentNode) {
                        this.emptyState.remove();
                        this.emptyState = null;
                    }
                    
                    const section = document.createElement('div');
                    section.className = 'mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg cursor-move slide-in';
                    section.innerHTML = `
                        <h3 class="text-xl font-bold mb-4 dark:text-white">${prompt}</h3>
                        <p class="text-gray-600 dark:text-gray-400">تم إنشاء هذا القسم بواسطة الذكاء الاصطناعي بناءً على طلبك.</p>
                    `;
                    
                    this.canvas.appendChild(section);
                    this.makeDraggable(section);
                    
                    promptInput.value = '';
                    promptInput.disabled = false;
                    LoadingBar.hide();
                    Toast.show('تم الإنشاء بنجاح! ✨');
                }, 1500);
            }
        };

        // Navigation Manager
        const NavigationManager = {
            init() {
                // Smooth scroll
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', (e) => {
                        const href = anchor.getAttribute('href');
                        if (href === '#') return;
                        
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth' });
                            this.updateBreadcrumbs(href);
                        }
                    });
                });
                
                // Navbar scroll effect
                let ticking = false;
                const navbar = document.getElementById('navbar');
                const breadcrumbs = document.getElementById('breadcrumbs');
                
                window.addEventListener('scroll', () => {
                    if (!ticking) {
                        window.requestAnimationFrame(() => {
                            if (window.pageYOffset > 100) {
                                navbar?.classList.add('shadow-lg');
                                breadcrumbs?.classList.remove('hidden');
                            } else {
                                navbar?.classList.remove('shadow-lg');
                                breadcrumbs?.classList.add('hidden');
                            }
                            ticking = false;
                        });
                        ticking = true;
                    }
                }, { passive: true });
            },
            
            updateBreadcrumbs(href) {
                const currentPage = document.getElementById('current-page');
                const sectionNames = {
                    '#how-it-works': 'كيف يعمل',
                    '#features': 'المميزات',
                    '#pricing': 'الأسعار',
                    '#templates': 'القوالب',
                    '#support': 'الدعم'
                };
                
                if (currentPage && sectionNames[href]) {
                    currentPage.textContent = sectionNames[href];
                }
            }
        };

        // Social Share Functions
        function shareOnTwitter() {
            const text = 'BuildFlow - أول منصة عربية لبناء المواقع بالذكاء الاصطناعي!';
            const url = 'https://buildflow.com';
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
            Analytics.trackEvent('Social', 'Share', 'Twitter');
        }

        function shareOnFacebook() {
            const url = 'https://buildflow.com';
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
            Analytics.trackEvent('Social', 'Share', 'Facebook');
        }

        function shareOnLinkedIn() {
            const url = 'https://buildflow.com';
            const title = 'BuildFlow - منصة بناء المواقع بالذكاء الاصطناعي';
            window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`, '_blank');
            Analytics.trackEvent('Social', 'Share', 'LinkedIn');
        }

        // Global Functions
        function toggleTheme() {
            ThemeManager.toggle();
            Analytics.trackEvent('UI', 'Toggle Theme', 
                document.documentElement.classList.contains('dark') ? 'Dark' : 'Light'
            );
        }

        function togglePricing() {
            PricingManager.toggle();
        }

        function toggleChat() {
            ChatWidget.toggle();
        }

        function sendChatMessage(event) {
            ChatWidget.sendMessage(event);
        }

        function openEditor() {
            EditorManager.open();
        }

        function closeEditor() {
            EditorManager.close();
        }

        function addElement(type) {
            EditorManager.addElement(type);
        }

        function generateWithAI() {
            EditorManager.generateWithAI();
        }

        function handleAuth(type) {
            if (type === 'login') {
                Toast.show('جاري تحويلك إلى صفحة تسجيل الدخول...');
                Analytics.trackEvent('Auth', 'Click', 'Login');
            } else {
                Toast.show('جاري تحويلك إلى صفحة التسجيل...');
                Analytics.trackEvent('Auth', 'Click', 'Signup');
                setTimeout(() => openEditor(), 1000);
            }
        }

        function handleSubscribe(plan) {
            Toast.show(`جاري تحويلك إلى صفحة الاشتراك...`);
            Analytics.trackEvent('Pricing', 'Subscribe Click', plan);
            setTimeout(() => {
                if (plan === 'free') {
                    openEditor();
                } else {
                    Toast.show('هذه الخاصية تتطلب ربطاً ببوابة الدفع');
                }
            }, 1500);
        }

        function handleSave() {
            LoadingBar.show();
            Toast.show('جاري حفظ المشروع... 💾');
            Analytics.trackEvent('Editor', 'Save', 'Project');
            setTimeout(() => {
                LoadingBar.hide();
                Toast.show('تم الحفظ بنجاح! ✓');
            }, 1000);
        }

        function handlePublish() {
            LoadingBar.show();
            Toast.show('جاري نشر الموقع... 🚀');
            Analytics.trackEvent('Editor', 'Publish', 'Site');
            setTimeout(() => {
                LoadingBar.hide();
                Toast.show('تم النشر بنجاح! رابط موقعك: yoursite.buildflow.app 🎉');
                Notifications.show('تم نشر موقعك بنجاح! 🎉', {
                    body: 'موقعك الآن متاح على: yoursite.buildflow.app'
                });
            }, 2000);
        }

        function scrollToDemo() {
            const preview = document.getElementById('editor-preview');
            if (preview) {
                preview.scrollIntoView({ behavior: 'smooth', block: 'center' });
                preview.style.transform = 'scale(1.02)';
                setTimeout(() => {
                    preview.style.transform = 'scale(1)';
                }, 300);
                Analytics.trackEvent('UI', 'Scroll to Demo', 'Preview');
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            try {
                LoadingBar.init();
                ThemeManager.init();
                Toast.init();
                EditorManager.init();
                NavigationManager.init();
                
                // Track initial page view
                Analytics.trackPageView('Home');
                
                // GSAP Animations
                if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
                    gsap.registerPlugin(ScrollTrigger);
                    
                    // Animate pricing cards
                    gsap.utils.toArray('.pricing-card').forEach((card, i) => {
                        gsap.from(card, {
                            scrollTrigger: {
                                trigger: card,
                                start: 'top 85%',
                            },
                            y: 30,
                            opacity: 0,
                            duration: 0.6,
                            delay: i * 0.1
                        });
                    });
                    
                    // Animate step cards
                    gsap.utils.toArray('.step-card').forEach((card, i) => {
                        gsap.from(card, {
                            scrollTrigger: {
                                trigger: card,
                                start: 'top 85%',
                            },
                            y: 50,
                            opacity: 0,
                            duration: 0.8,
                            delay: i * 0.2,
                            ease: "back.out(1.7)"
                        });
                    });
                }
                
                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        const modal = document.getElementById('editor-modal');
                        if (modal && !modal.classList.contains('hidden')) {
                            closeEditor();
                        }
                    }
                    
                    if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                        e.preventDefault();
                        const modal = document.getElementById('editor-modal');
                        if (modal && !modal.classList.contains('hidden')) {
                            handleSave();
                        }
                    }
                });
                
                // Request notification permission after 30 seconds
                setTimeout(() => {
                    if (Notification.permission === 'default') {
                        Notifications.requestPermission();
                    }
                }, 30000);
                
                // Service Worker Registration (for PWA)
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/sw.js').catch(err => {
                        console.log('SW registration failed:', err);
                    });
                }
                
            } catch (error) {
                console.error('Initialization error:', error);
            }
        });
    </script>
</body>
</html>
